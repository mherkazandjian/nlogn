---
stages:
  - slurm

squeue_all:
  stage: slurm
  timeout:
    duration: 5s
    max_attempts: 3
  when:
    interval: 60s
    cadence_multiplier: 2
  nlogn.builtin.slurm.squeue_all:
    keep_columns:
      - account
      - end_time
      - jobid
      - name
      - time_limit
      - command
      - priority
      - reason
      - cpus
      - nodes
      - array_job_id
      - time
      - nodelist
      - partition
      - start_time
      - state
      - submit_time
      - work_dir
  output:
    columns:
      - account[keyword]
      - end_time[long]
      - jobid[long]
      - name[str]
      - time_limit[long]
      - command[str]
      - priority[float]
      - reason[str]
      - cpus[long]
      - nodes[long]
      - array_job_id[long]
      - time[long]
      - nodelist[str]
      - partition[keyword]
      - start_time[long]
      - state[keyword]
      - submit_time[long]
      - work_dir[str]

sinfo_all:
  stage: slurm
  timeout:
    duration: 5s
    max_attempts: 3
  when:
    interval: 60s
    cadence_multiplier: 2
  nlogn.builtin.slurm.sinfo_all:
    keep_columns:
      - hostnames
      - state
      - sockets
      - cores
      - threads
      - cpus
      - cpu_load
      - memory
      - free_mem
      - active_features
      - avail_features
      - oversubscribe
      - timestamp
      - preempt_mode
      - cluster
      - weight
      - reason
  output:
    columns:
      - hostnames[keyword]
      - state[keyword]
      - sockets[long]
      - cores[long]
      - threads[long]
      - cpus[long]
      - cpu_load[float]
      - memory[long]
      - free_mem[long]
      - active_features[keyword]
      - avail_features[keyword]
      - oversubscribe[keyword]
      - timestamp[str]
      - preempt_mode[keyword]
      - cluster[keyword]
      - weight[float]
      - reason[str]
...
